//npm install vue-pdf


import VuePdf from 'vue-pdf'

export default {
  components: {
    VuePdf
  }
}


<template>
  <select v-model="selectedPDF" @change="previewPDF">
    <option v-for="pdf in pdfList" :key="pdf.value" :value="pdf.value">
      {{ pdf.label }}
    </option>
  </select>
  <vue-pdf v-if="pdfSrc" :src="pdfSrc" />
</template>


<script>
export default {
  data() {
    return {
      selectedPDF: null,
      pdfSrc: null,
      pdfList: [
        { label: 'PDF 1', value: 'https://example.com/pdf-1.pdf' },
        { label: 'PDF 2', value: 'https://example.com/pdf-2.pdf' },
        { label: 'PDF 3', value: 'https://example.com/pdf-3.pdf' }
      ]
    }
  },
  methods: {
    async previewPDF() {
      // 获取选择的 PDF 的 URL
      const pdfUrl = this.selectedPDF
      // 创建文件读取器
      const fileReader = new FileReader()
      // 等待文件读取完成
      const pdfSrc = await new Promise((resolve, reject) => {
        fileReader.onloadend = event => {
          resolve(event.target.result)
        }
        fileReader.onerror = error => {
          reject(error)
        }
        // 开始读取文件
        fileReader.readAsArrayBuffer(await (await fetch(pdfUrl)).blob())
      })
      // 将文件的 ArrayBuffer 赋值给 pdfSrc
      this.pdfSrc = pdfSrc


